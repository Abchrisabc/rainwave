$menu_height: 45px;
$station_select_sta_height = 60px;
$menu_blue: #1f95e5;
$menu_blue_dark: #128adb;

#top_menu_wrapper {
	position: relative;
	background: $menu_blue_dark;
	height: $menu_height;
	@include transition-wtime(300ms, opacity);
	z-index: 2;
}

#top_menu {
	box-sizing: border-box;
	color: #FFF;
	background: $menu_blue;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	max-width: 100%;
	height: $menu_height;

	@include transition(max-width);
}

#top_menu a:hover {
	color: $linkhover;
}

body.stage_0 #top_menu, body.stage_1 #top_menu, body.stage_2 #top_menu {
	max-width: 1024px;
}

#top_menu svg {
	display: inline;
	height: 20px;
	width: 20px;
}

#top_menu svg rect, #top_menu svg circle, #top_menu svg path, #top_menu svg polygon {
	fill: $text;
	@include transition-wtime(150ms, fill);
}

#top_menu a:hover svg rect, #top_menu a:hover svg circle, #top_menu a:hover svg path, #top_menu a:hover svg polygon {
	fill: $linkhover;
}

#facebook_f {
	fill: $highlight !important;
}

/* STATION SELECT */

$menu_transfunc: cubic-bezier(0.77, 0, 0.175, 1);

#station_select_container {
	position: relative;
	z-index: 20000;
	font-style: italic;
	font-weight: 300;
	font-size: 2em;
	float: left;
	width: 8em;
	border-right: 1px solid #1e71a9;
	height: $menu_height;
	margin-right: 15px;

	-webkit-transition: width 350ms;
	        transition: width 350ms;
	-webkit-transition-timing-function: $menu_transfunc;
	        transition-timing-function: $menu_transfunc;
}

#station_select_container.open {
	width: 12em;
}

#station_select {
	box-sizing: border-box;
	position: absolute;
	padding: 0 20px 0 15px;
	height: $menu_height;
	background: #0b5c89;
	z-index: 20000;
	width: 100%;

	-webkit-transition: width 350ms, background-color 350ms, height 700ms;
	        transition: width 350ms, background-color 350ms, height 700ms;
	-webkit-transition-timing-function: $menu_transfunc;
	        transition-timing-function: $menu_transfunc;
}

#station_select svg.pulldown_arrow {
	float: right;
	cursor: pointer;
	position: relative;
	z-index: 50;
	top: $menu_height / 2;
	@include transition-wtime(350ms, transform);
	@include transform(translateY(-50%) rotate(0deg));
	-webkit-transform-origin: center center;
	        transform-origin: center center;
	-webkit-transition-timing-function: $menu_transfunc;
	        transition-timing-function: $menu_transfunc;
}

#station_select.open {
	width: 12em;
	height: ($station_select_sta_height * 5) + $menu_height;
}

#station_select.open svg.pulldown_arrow {
	cursor: default;
	@include transform(translateY(-50%) rotate(180deg));
}

#station_select_header {
	position: absolute;
	top: -($menu_height / 2);
	color: rgb(151,198,229);
	text-transform: uppercase;
	font-weight: 400;
	font-size: .6em;
	margin-left: 5px;

	@include transform(translateY(-50%));
	@include transition(top);
	-webkit-transition-timing-function: $menu_transfunc;
	        transition-timing-function: $menu_transfunc;
}

#station_select.open #station_select_header {
	top: $menu_height / 2;
}

a.station {
	box-sizing: border-box;
	display: block;
	background: #0b5c89;
	position: absolute;
	left: 0;
	z-index: 1;
	width: 100%;
	cursor: pointer;
	overflow: hidden;
	height: $menu_height;
	top: 0;
	padding-left: 20px;
	color: rgb(151,198,229);

	-webkit-transition: top 700ms $menu_transfunc, background 350ms $transfunc, color 350ms $transfunc, height 700ms $menu_transfunc;
	        transition: top 700ms $menu_transfunc, background 350ms $transfunc, color 350ms $transfunc, height 700ms $menu_transfunc;
}

#station_select.open a.station {
	height: $station_select_sta_height;
}

a.station:hover {
	background: #0f74b8;
	color: $text !important;
	cursor: pointer;
}

a.station.selected_station {
	background: $menu_blue;
	color: $text;
	z-index: 40;
}

#station_select.open a.station.selected_station, #station_select.open a.station.selected_station:hover {
	cursor: default;
	color: $text;
}

#station_select.open a.station:nth-of-type(1) { top: $menu_height; border-top: 1px solid rgba(0, 0, 0, 0.1); }
#station_select.open a.station:nth-of-type(2) { top: $menu_height + $station_select_sta_height; }
#station_select.open a.station:nth-of-type(3) { top: $menu_height + ($station_select_sta_height * 2); }
#station_select.open a.station:nth-of-type(4) { top: $menu_height + ($station_select_sta_height * 3); }
#station_select.open a.station:nth-of-type(5) { top: $menu_height + ($station_select_sta_height * 4); }

div.station_details {
	position: relative;
	top: 50%;
	transform: translateY(-50%);
	@include transition-wtime(350ms, transform);
}

#station_select.open a.station:hover div.station_details, #station_select.open a.station.selected_station div.station_details {
	transform: translateY(-70%);
}

div.station_name {
	text-transform: uppercase;
}

div.station_description {
	text-transform: uppercase;
	font-weight: 400;
	font-size: 0.4em;
	position: absolute;
	top: $station_select_sta_height;
	opacity: 0;
	-webkit-transition: transform 300ms ease-in-out, opacity 250ms ease;
	        transition: transform 300ms ease-in-out, opacity 250ms ease;
}

#station_select.open a.station:hover div.station_description, #station_select.open a.selected_station div.station_description {
	opacity: 1;
	@include transform(translateY(-120%));
}

div.station_song {
	display: none;
}

/* ICONS AND LINKS */

#top_icons {
	margin: 0;
	padding: 0;
	float: right;
	position: relative;
	top: 50%;
	@include transform(translateY(-50%));
}

#top_icons li {
	display: inline;
	padding: 0 0.8em;
}

#top_icons li:last-child {
	padding-right: 0;
}

#top_icons li svg {
	@include transform(translateY(.1em));
}

#top_icons #user_info {
	cursor: pointer;
}

#top_icons img.avatar.icon {
	position: relative;
	top: 2px;
	max-width: 1.2em;
	margin-left: 5px;
	padding: 0;
	vertical-align: baseline;
}

#top_icons #anonymous_user_avatar {
	display: none;
}

#top_icons #user_info.anonymous_user {
	cursor: default;
}

#top_icons li.show_anonymous_avatar #anonymous_user_avatar {
	display: inline;
}

#top_icons #icon_cluster > * {
	cursor: pointer;
	padding: 0 0.2em;
}

#top_icons #icon_cluster > *:last-child {
	padding-right: 10px;
}

/* PLAYER */

#r4_audio_player {
	position: relative;
	display: inline-block;
	top: 50%;
	@include transform(translateY(-50%));
	font-size: 2em;
	font-style: italic;
	font-weight: 300;
}

#r4_audio_player #audio_status {
	padding-left: 1.15em;
	@include transition(LINKCOLOR);
}

#r4_audio_player a:hover #audio_status {
	color: $linkhover;
}

#r4_audio_player svg.audio_icon {
	position: absolute;
	left: 5px;
	height: 0.9em;
	width: 0.8em;
	margin-top: .25em;
}

#r4_audio_player a:hover svg.audio_icon rect, #r4_audio_player a:hover svg.audio_icon circle, #r4_audio_player a:hover svg.audio_icon path, #r4_audio_player a:hover svg.audio_icon polygon {
	fill: $linkhover;
}

#r4_audio_player svg.audio_icon use {
	@include transition(opacity);
}

#r4_audio_player #audio_icon_stop {
	opacity: 0;
}

#r4_audio_player.playing #audio_icon_stop {
	opacity: 1;
}

#r4_audio_player.playing #audio_icon_play {
	opacity: 0;
}

#top_menu #r4_audio_player svg#audio_volume {
	position: relative;
	margin-left: .3em;
	width: 1.3em;
	height: .7em;
	opacity: 0;
	@include transition(opacity);
}

#top_menu #r4_audio_player.playing svg#audio_volume {
	opacity: 1;
}

#top_menu #r4_audio_player svg rect#audio_volume_indicator_background {
	opacity: 0.5;
}

/* CALENDAR */

div.menu_inline_dropdown {
	box-sizing: border-box;
	position: absolute;
	height: 0;
	background: $menu_blue;
	opacity: 0;
	border: 2px solid $menu_blue;
	z-index: 10001;
	overflow: hidden;

	@include transition-wtime(400ms, height, opacity);
	@include transform(translateX(-50%));
}

li:hover #calendar_dropdown {
	opacity: 1;
}

#calendar_dropdown {
	width: 400px;
}

#calendar_dropdown iframe {
	width: 100%;
	height: 500px;
}

li:hover #calendar_dropdown {
	height: 500px;
}

/* MODAL STUFF */

body.modal_is_active #top_menu_wrapper, body.modal_is_active #sizable_body, body.modal_is_active #messages {
	opacity: 0.3;
}

div.modal_container {
	position: absolute;
	overflow: hidden;
	margin: 0 auto;
	top: 50%;
	left: 50%;
	width: 0;
	opacity: 0;
	background: #000;
	padding: 5px 0;
	z-index: 10001;
	@include transform(translate(-50%, -50%));

	-webkit-transition: width 400ms $transfunc 400ms, opacity 300ms $transfunc 100ms;
            transition: width 400ms $transfunc 400ms, opacity 300ms $transfunc 100ms;
}

div.modal_container.active_modal {
	display: block;
	width: 100%;
	opacity: 1;

	@include transition-wtime(400ms, width);
}

div.modal_header_wrapper {
	padding-bottom: 2px;
	border-bottom: 1px solid $menu_blue;
}

div.modal_header {
	width: 100%;
	background: $menu_blue;
	font-size: 1.2em;
	font-style: italic;
	font-weight: 300;
}

div.modal_header_content {
	max-width: 850px;
	width: 65%;
	margin: 0 auto;
	opacity: 0;
	padding: 0;
}

div.active_modal div.modal_header_content {
	opacity: 1;
	padding-left: 25px;
	@include transition(padding, opacity);
	@include transition-delay(600ms);
}

div.modal {
	max-width: 800px;
	width: 60%;
	margin: 5px auto;
	height: 0;
	max-height: 50%;
	padding: 5px;
	overflow: hidden;
	opacity: 0;

	@include transition-wtime(400ms, height, opacity);
}

div.active_modal div.modal {
	height: 500px;
	overflow: auto;
	opacity: 1;
	-webkit-transition: height 400ms $transfunc 300ms, opacity 400ms linear 500ms;
	        transition: height 400ms $transfunc 300ms, opacity 400ms linear 500ms;
}

div.modal_bottom_border {
	height: 2px;
	width: 100%;
	background: $menu_blue;
}

/* SETTINGS */

$yes_no_height: 23px;

div.setting_subheader {
	color: $orange;
	border-bottom: 1px solid $orange;
	padding: 0;
	margin: 5px 0;
}

div.setting_group {
	clear: both;
	padding: 2px 7px;
	height: $yes_no_height;
	overflow: hidden;
	border-bottom: 1px solid transparent;
	@include transition(border-color, background, opacity);
}

div.setting_group.setting_group_special {
	margin: 5px 0;
	padding-left: 0px;
}

div.setting_group_special label {
	color: $orange;
}

div.setting_group:hover {
	border-color: $hovercolor-border;
	background-color: $hovercolor;
	@include no-transition();
}

div.setting_group.yes_no_group, div.setting_group.yes_no_group label {
	cursor: pointer;
}

div.yes_no_wrapper {
	box-sizing: border-box;
	float: right;
	padding: 0;
	margin: 0;
}

div.yes_no_wrapper span {
	box-sizing: border-box;
	display: inline-block;
	height: $yes_no_height;
}

span.yes_no_yes, span.yes_no_no {
	position: relative;
	z-index: 2;
	width: 70px;
	border: 1px solid $menu_blue;
	@include transition-wtime(350ms, color);
	text-align: center;
}

span.yes_no_yes {
	padding-right: 10px;
	border-right: none;
	color: $vdarktext;
}

span.yes_no_no {
	padding-left: 10px;
	border-left: none;
}

div.yes_no_wrapper.yes span.yes_no_yes {
	color: $text;
}

div.yes_no_wrapper.yes span.yes_no_no {
	color: $vdarktext;
}

div.yes_no_wrapper.yes.no span.yes_no_yes {
	color: $vdarktext;
}

div.yes_no_wrapper.yes.no span.yes_no_no {
	color: $text;
}

span.yes_no_bar {
	position: absolute;
	width: 70px;
	background: #0c5d93;
	z-index: 1;
	
	@include transform(rotate(0deg));
	-webkit-transform-origin: left center;
	        transform-origin: left center;
}

div.yes_no_wrapper.yes span.yes_no_bar {
	background: $menu_blue;
	@include transition-wtime(350ms, transform, background-color);
	@include transform(rotate(-180deg));
}

div.yes_no_wrapper.no span.yes_no_bar {
	background: #0c5d93;
	@include transition-wtime(350ms, transform, background-color);
	@include transform(rotate(-360deg));
}

span.yes_no_dot {
	position: absolute;
	border: solid 10px $text;
	border-radius: 10px;
	background: $text;
	z-index: 1;
	margin-left: -10px;
}

/* MULTIPLE SELECTS */

div.multi_select {
	box-sizing: border-box;
	float: right;
	position: relative;
	height: $yes_no_height;
}

div.multi_select span {
	box-sizing: border-box;
	position: relative;
	padding: 0 5px;
	margin: 0 .5em;
	color: $vdarktext;
	@include transition-wtime(350ms, color);
	border: 1px solid $menu_blue;
	cursor: pointer;
	height: $yes_no_height;
}

div.multi_select span:last-child {
	margin-right: 0;
}

div.multi_select span.selected {
	color: $text;
}

div.multi_select span.selected_first {
	background: $menu_blue;
}

div.multi_select div.floating_highlight {
	box-sizing: border-box;
	position: absolute;
	background-color: $menu_blue;
	@include transition-wtime(350ms, transform, height, width);
}

div.multi_select span a {
	color: $vdarktext;
}

div.multi_select.multi_select_special span a {
	color: $text;
}

div.multi_select span a:hover {
	color: $linkhover;
}

body.stage_0 #site_mode_selector_basic, body.stage_1 #site_mode_selector_basic, body.stage_2 #site_mode_selector_basic {
	color: $text;
	background: $menu_blue;
}

body.stage_3 #site_mode_selector_full, body.stage_4 #site_mode_selector_full {
	color: $text;
	background: $menu_blue;
}